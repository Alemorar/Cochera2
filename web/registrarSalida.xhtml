<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
        <title>Registrar Salida de Vehiculo</title>
    </h:head>
    <h:body>
        <p:panel id="pnlRegistrarEntrada" header="Gestion Salida de Vehiculo">
            <h.form id="form">
                <p:dataTable value="#{registroEstacionamientoFormBean.registrosEntradas}"
                         var="regEntrada">
                    <p:column headerText="Codigo">
                        <h:outputText value="#{regEntrada.codigo}"/>                          
                    </p:column>
                    <p:column headerText="Fecha">
                        <p:calendar id="Fecha" disabled="true" pattern="dd/MM/yyyy" value="#{regEntrada.fecha}"
                                    styleClass="tds-input-text-or-calendar"/>
                    </p:column>
                    <p:column headerText="Patente">
                        <h:outputText value="#{regEntrada.patente}" style="text-transform: uppercase"/>                          
                    </p:column>
                    <p:column headerText="Tipo de Vehiculo">
                        <h:outputText value="#{regEntrada.guiaPrecio.tipoVehiculo}"/>                          
                    </p:column>
                    <p:column headerText="Hora Entrada">
                        <p:calendar id="hEntrada" disabled="true" pattern="HH:mm" timeOnly="true" value="#{regEntrada.hEntrada}"/>
                    </p:column>
                    <p:column headerText="Hora Salida">
                        <p:calendar id="hSalida" disabled="true" pattern="HH:mm" timeOnly="true" value="#{regEntrada.hSalida}"/>
                    </p:column>
                    <p:column headerText="Precio por Hora">
                        <h:outputText value="#{regEntrada.guiaPrecio.precio}"/>                          
                    </p:column>
                    <p:column headerText="Precio Total">
                        <h:outputText value="#{regEntrada.precioTotal}"/>                          
                    </p:column>
                    
                    <p:column headerText="Finalizar">
                        <p:commandButton value="Cerrar">
                            <p:confirm header="Confirmation" message="Are you sure?" icon="ui-icon-alert" />
                        </p:commandButton>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" 
                                             icon="ui-icon-close" 
                                             actionListener="#{registroEstacionamientoFormBean.registroEstacionamientoBean.registroEstacionamiento.sethSalida(hSalida)}"/>
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" 
                                             icon="ui-icon-close" />
                        </p:confirmDialog>
                        
                    </p:column>
                </p:dataTable>
            </h.form>            
        </p:panel>
    </h:body>
</html>
